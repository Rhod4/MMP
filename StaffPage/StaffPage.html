

<!DOCTYPE HTML>
<head>
  <html lang="en">
<meta charset="UTF-8">
 <link rel = "stylesheet" href="StaffPageStyle.css">

 <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">

<title>Rhs24 MMP</title>
</head>
<body>



  <?php
  // Include config file

  $dbhost = "db.dcs.aber.ac.uk";
  $dbuser = "rhs24";
  $dbpass = "****";
  $db = "cs39440_19_20_rhs24";
  $conn = new mysqli_connect($dbhost, $dbuser, $dbpass,$db);

if (!$conn) {
      die("Connection failed: " . mysqli_connect_error());
  }
  // $query = "SELECT * FROM `test";

  $sql = "SELECT * FROM `test`";
$result = mysqli_query($conn, $sql);

if (mysqli_num_rows($result) > 0) {
    // output data of each row
    while($row = mysqli_fetch_assoc($result)) {
        echo "name: " . $row["name"]. " - type: " . $row["type"]. " " . $row["date"]. "<br>";
    }
} else {
    echo "0 results";
}
  $conn->close();

  ?>






<div id = "TitleBar">
  <h1 id="TitleText"> Staff Page</h1>
</div>

<div id = "Table">
  <h1 id="TableText"></h1>

  <div id = "Students">
    <h1 id="StudentNames"></h1>

  <table id = "StudentDataBase" class="display">
    <thead>
         <tr>
             <th>name</th>
             <th>year</th>
             <th>score</th>
         </tr>
     </thead>
     <tbody>
     <tr>

     </tr>
     <tr>

     </tr>
 </tbody>
  </table>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js">  </script>

<script>

var teacher = sessionStorage.getItem("teacher");
document.getElementById("TableText").innerHTML = teacher;


  function Student (name, year, score) {
      this.name = name;
      this.year = year;
      this.score = score
  };


$(document).ready( function () {

  var table =  $('#StudentDataBase').DataTable( {
    data:[
      new Student( "Paul Davies", "4", "0"),
      new Student( "Dave Smith", "4", "0")],
    columns: [
      { data: 'name' },
      { data: 'year' },
      { data: 'score'}]
});

$('#StudentDataBase tbody').on( 'click', 'td', function () {
  var clickedStudent = table.cell(this, 0).data();
console.log(clickedStudent);
var fullStudent = table.row(this).data();


sessionStorage.setItem("student", clickedStudent);
window.location.href = "file:///C:/Users/rhodr/Desktop/MMP/StudentDetails/StudentPage.html";


});
});
var a = 3;









</script>
  </div>

</div>
</body>
